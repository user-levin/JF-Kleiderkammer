import{a as i,j as e}from"./index-DLvFhXsc.js";import{u as l}from"./useQuery-Cnopp4RL.js";import{a as d}from"./client-CSqpDYkL.js";const n=new Intl.DateTimeFormat("de-DE",{dateStyle:"medium"}),c=new Intl.DateTimeFormat("de-DE",{dateStyle:"short",timeStyle:"short"});function j(){const{id:s}=i(),{data:a,isLoading:r,error:t}=l({queryKey:["article-detail",s],queryFn:async()=>(await d.get(`/api/articles/${s}`)).data.data,enabled:!!s});return r?e.jsx("p",{className:"muted",children:"Lädt ..."}):t?e.jsx("p",{className:"error",children:"Artikel konnte nicht geladen werden."}):a?e.jsxs("section",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{children:[e.jsxs("h2",{children:["Artikel ",a.id]}),e.jsxs("p",{className:"muted",children:[a.category," · ",a.size??"One Size"]})]})}),e.jsxs("div",{className:"article-info-grid",children:[e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Bezeichnung"}),e.jsx("p",{children:a.label})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Status"}),e.jsx("p",{children:m(a)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Ort"}),e.jsx("p",{children:a.location.type==="kind"?`Bei ${a.location.name}`:"Lager"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Zuletzt bewegt"}),e.jsx("p",{children:c.format(new Date(a.assignedAt))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Nächste Helmprüfung"}),e.jsx("p",{children:a.helmetNextCheck?n.format(new Date(a.helmetNextCheck)):"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Ablaufdatum"}),e.jsx("p",{children:a.expiryDate?n.format(new Date(a.expiryDate)):"-"})]})]}),a.warning&&e.jsxs("p",{className:"badge badge-warning",children:["Warnung: ",a.warning.type==="pruefung"?"Prüfung":"Ablauf"," bis ",n.format(new Date(a.warning.date))]}),a.notes&&e.jsxs("p",{className:"muted",children:["Notizen: ",a.notes]})]}):e.jsx("p",{className:"muted",children:"Artikel wurde nicht gefunden."})}function m(s){return s.warning?"Warnung aktiv":s.status==="ausgegeben"?"Bei Kind":s.status==="frei"?"Im Lager":"Unbekannt"}export{j as default};

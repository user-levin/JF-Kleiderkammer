import{r as s,b as g,j as e}from"./index-DLvFhXsc.js";import{a as x}from"./client-CSqpDYkL.js";function f({onSuccess:c}){const[r,d]=s.useState(""),[n,h]=s.useState(""),[o,l]=s.useState(null),[i,u]=s.useState(!1),p=g(),m=async t=>{t.preventDefault(),l(null),u(!0);try{const a=await x.post("/login",{email:r,password:n});c(a.data.token)}catch(a){l("Login fehlgeschlagen"),console.error(a)}finally{u(!1)}};return e.jsx("div",{className:"auth",children:e.jsxs("form",{className:"card",onSubmit:m,children:[e.jsx("h2",{children:"Anmelden"}),e.jsxs("label",{children:["E-Mail",e.jsx("input",{value:r,onChange:t=>d(t.target.value),required:!0})]}),e.jsxs("label",{children:["Passwort",e.jsx("input",{type:"password",value:n,onChange:t=>h(t.target.value),required:!0})]}),o&&e.jsx("p",{className:"error",children:o}),e.jsx("button",{type:"submit",disabled:i,children:i?"?":"Login"}),e.jsx("button",{type:"button",onClick:()=>p("/"),children:"Abbrechen"})]})})}export{f as default};
